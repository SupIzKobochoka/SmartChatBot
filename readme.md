# SmartChatBot

## Описание
SmartChatBot — это многокомпонентный чат-бот на базе LangGraph/LangChain. Проект реализует мультиагентную систему, где есть:
- Главный агент маршрутизатор, определяющий какому зависимому агенту передать задачу (и передать ли вообще)
- 3 вида агентов, каждый из которых имеет свой набор инструмментов (создание документов по заданным шаблонам, поиск по базе знаний, работа с журналом активности)

Поиск по базе знаний на основе векторного хранилища (Chroma), работу с журналом активности сотрудников через PostgreSQL.

## Структура каталогов
- `agents/` — агенты и вспомогательные утилиты:
  - `agents.py` — собственно агенты.
- `database/` — инфраструктура базы знаний:
  - `vector_store.py` — инициализация Chroma + эмбеддинги.
  - `add_data.py` — загрузка файлов в векторную БД.
  - `chroma/` — локальное хранилище векторов.
- `docs_generated/` — папка хранения сгенерированных документов, сюда кладёт их агент и забирает телеграм бот
- `graph/` — графы LangGraph:
  - `amain.py` — основной асинхронный граф маршрутизации.
  - `main.py` — синхронная версия графа (не используется).
- `knowledge_base/` — исходная база знаний (PDF файлы).
- `tools/` — инструменты для агентов:
  - `tools.py` — поиск по базе знаний + работа с журналом активности.
  - `document_template/` — шаблоны и функции генерации документов.
- `graph_manager.py` — менеджер сессий для запуска графа.
- `requirements.txt` — зависимости проекта.

В `.env` хранятся:
openai_api_key="..."
model_name="..."
openai_api_base="..."
BOT_TOKEN="..."

В тестах использовалась mimo-v2-flash
